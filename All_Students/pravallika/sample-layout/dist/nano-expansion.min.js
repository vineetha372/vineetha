!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).NanoExpansion=n()}(this,(function(){"use strict";function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(){function n(e){var t=this,i=e.wrapper,o=void 0===i?"":i,r=e.duration,s=void 0===r?.2:r,a=e.autoFolding,p=void 0===a||a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.options={},this.options.duration=s,this.options.autoFolding=p,this.currentOpen=0;try{if(this.wrapper=document.querySelector(o),null===this.wrapper)return console.error("NanoExpansion: Wrapper element not found!")}catch(e){return console.error("NanoExpansion: The wrapper id's cannot be empty!")}if(this.expansions=this.wrapper.querySelectorAll(".nano-expansion"),0===this.expansions.length)return console.error("NanoExpansion: Expansion element not found!");Array.from(this.expansions).forEach((function(e,n){var i=e.children[0];i.style.transition=t.options.duration+"s",i.addEventListener("click",t.evenHandler.bind(t)),e.setAttribute("key",n),e.setAttribute("open","false"),e.style.maxHeight=i.scrollHeight+"px",e.style.transition=t.options.duration+"s"}))}var t,i,o;return t=n,(i=[{key:"evenHandler",value:function(e){var n=e.target.parentElement,t=parseInt(n.getAttribute("key"));this.options.autoFolding&&t!==this.currentOpen&&this.hideExpansion(this.currentOpen),"false"===n.getAttribute("open")?this.showExpansion(t):this.hideExpansion(t)}},{key:"showExpansion",value:function(e){var n=this.expansions[e];n.children[0].classList.add("active"),n.setAttribute("open","true"),n.style.maxHeight=n.scrollHeight+"px",this.options.autoFolding&&(this.currentOpen=e)}},{key:"hideExpansion",value:function(e){var n=this.expansions[e],t=n.children[0];t.classList.remove("active"),n.setAttribute("open","false"),n.style.maxHeight=t.scrollHeight+"px"}}])&&e(t.prototype,i),o&&e(t,o),n}()}));
